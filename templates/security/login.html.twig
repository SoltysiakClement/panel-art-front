{% extends 'base.html.twig' %}

{% block title %}Connexion
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/login.css') }}">
{% endblock %}

{% block body %}
	<div class="login-container">
		<div
			class="login-box">
			{# <form method="post" class="needs-validation" novalidate>
			            {% if error %}
			                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
			            {% endif %}
			
			            {% if app.user %}
			                <div class="logged-in">
			                    Vous êtes connecté en tant que {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Déconnexion</a>
			                </div>
			            {% endif %}
			
			            <h1 class="text-center">Connexion</h1>
			            <div class="form-group">
			                <label for="username">Email</label>
			                <input type="email" value="{{ last_username }}" name="_username" id="username" class="form-control" required autofocus>
			            </div>
			            <div class="form-group">
			                <label for="password">Mot de passe</label>
			                <input type="password" name="_password" id="password" class="form-control" required>
			            </div>
			
			            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
			
			            <div class="text-center">
			                <button class="btn btn-primary" type="submit">Se connecter</button>
			            </div>
			
			            <p class="text-center">
			                Vous n'avez pas de compte ? <a href="{{ path('app_register') }}">Inscrivez-vous</a>
			            </p>
			        </form> #}
			{{ form_start(form) }}

			<h1 class="h3 mb-3 font-weight-normal text-center">Connexion</h1>
			{{ form_row(form.email, {
            'label': 'Adresse email',
            'attr': {
                'class': 'form-control'
            }
        }) }}

			{{ form_row(form.password, {
            'label': 'Mot de passe',
            'attr': {
                'class': 'form-control'
            }
        }) }}

            <div class="text-center mt-3">
                <button type="submit" class="btn btn-lg btn-primary btn-block">
                    Se connecter
                </button>
            </div>
			{{ form_end(form) }}

		</div>
	</div>
{% endblock %}
